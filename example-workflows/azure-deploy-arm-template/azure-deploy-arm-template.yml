version: v1
description: Azure Resource Test

steps:
- name: azureresourcemanager-deployer
  image: projectnebula/azureresourcemanager-deployer:latest
  spec:
    azure:
      tenantID: !Parameter TenantID
      username: !Parameter ApplicationID
      cert:
        $type: Secret
        name: cert
    deploymentName: !Parameter DeploymentName
    resourceGroup: !Parameter ResourceGroupName
    templateFile: templates\!Parameter templateFilename.json
    git:
      name: !Parameter FolderName
      branch: master
      repository: !Parameter RepoURL
    parameters:
      storageName: !Parameter storageAccountName